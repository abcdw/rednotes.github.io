---
layout: post
title: "vim story #2 /Survive/"
date: "Вт дек 02 23:08:16 +0300 2014"
image: /downloads/icons/vim.png
published: false
---

Первое, что вы должны сделать - это выжить в этом жестоком мире. Ни для кого не секрет, что дефолтный сетап `vim` выглядит, мягко говоря, ужасающе, да и поведение у него не самое предсказуемое. Предложу пару идей, чтобы помочь вам остаться в живых и при этом получить минимум психологических и физических увечий.

## Install
Давайте собирать все необходимое! Хм, думаю мы возьмем даже чуть больше, чем нужно для просто выживания, будем выживать со вкусом :wink:

### Vim
Для начала нужно как минимум установить `vim`. На счет первого могу сказать, что на ubuntu нужно ставить `vim-nox`, на мак нужно ставить `vim` или `macvim` из `brew`. Можно юзать и то, что стоит по-дефолту, но во избежании проблем лучше иметь версию посвежее и как минимум с поддержкой +python, +clipboard и прочими прелестями.

`$ sudo apt-get install vim-nox`

`$ brew install vim --override-system-vim`

Обладатели других дистрибутивов и операционных систем надеюсь справятся сами. А не справятся - значит не очень то и хотелось или рано еще такими вещами заниматься.

В данный момент я использую [neovim][neovim]. Скорее всего, у вас пока нету причин делать тоже самое, но имейте в виду, что есть такой форк. Кажется у него очень неплохие перспективы.

### Fonts
Поставьте хорошие моноширные [шрифты][fonts] с поддержкой powerline-symbols. У меня нету каких-то конкретных предпочтений, но с недавнего времени я использую `Ubuntu Mono`, шрифт хорош тем, что он весьма компактен в плане ширины и его удобно использовать на 13" мониторе ноута.

Могу порекомендовать `Anonymous Pro`, `Inconsolata`. Но выбирайте на свой вкус, даже не обязательно из этого списка. Powerline-symbols дадут нам немного красоты в перспективе, поэтому было бы неплохо, чтобы они были. Не оставляйте дефолтный шрифт, он скорее всего будет ужасно убог, уважайте свои глаза и чувство прекрасного.

`Vim` использует шрифты терминала. Сразу оговорюсь, что под `gvim` я буду обобщенно подразумевать GUI-версию(MacVim, GVim, ...). `gvim` использует переменную `guifont`, ее обычно можно выставить через графическую менюшку или написать `set guifont=Ubuntu\ Mono\ derivative\ Powerline:h14` в `~/.gvimrc`

### Keyboard
<!-- Вынести бы этот раздел в отдельный пост по-хорошему. -->
Как же не поговорить о клавиатуре? Это же основной инструмент при работе с текстом. Меньше движений - больше действий. Руки должны оставаться всегда в удобном положении и минимально покидать `home row`. Это не только увеличивает эффективность, но и положительно сказывается а здоровье ваших запястий. Не подстраивайтесь под инструменты и "стандарты", подстраивайте их под себя! Гните свою линию.

#### Layout
Не тяните legacy из девятнадцатого века, выбирайте что-нибудь более продуманное и удобное, нежели `qwerty`. Стоит еще раз упомянуть, что я использую dvorak for programmers и вам советую, хотя и не настаиваю, в местах, где раскладка имеет значение я буду отдельно упоминать некоторые особенности. Почему дворак хорош можно почитать [тут][dvorak]. Почему dvp, а не ANSI dvorak - [там][dvp]. Если будет много желающих узнать о моем опыте перехода, то напишу отдельный постик. Так же, из-за нестандартного расположения `hjkl`, новaя раскладка сподвигла меня к изучению более мощных возможностей перемещения.

#### Caps Lock
Крайне настоятельно рекомендую разумно использовать `Caps Lock`: одиночное нажатие - `Escape`, удержание - `Control`. По жизни(а в `vim` и подавно) `Esc` и `Control` используются чаще `CapsLock`, но при этом находятся на очень неудобных позициях, от слова совсем. Такой мапинг позволит переместить две очень важные клавиши на `home row` и сильно облегчит жизнь вам и вашим рукам.

Чтобы это сделать вам понадобится [xcape][xcape] и [xmodmap][xmodmap] или [Karabiner][karabiner] под макось. Это будет полезно и в повседневной жизни, так что не пожалейте времени.


## Prepare
Помните, что `with great flexibility comes great responsibility`. Хочу заранее предостеречь вас от соблазна поставить сразу супермега конфиг с кучей плагинов - это wrong way. Не торопитесь - спешка ни к чему. Освоение должно происходить медленно, поэтапно, с набиванием шишек и осознанием того, что происходит на самом деле. Как в любой хорошей RPG с низкими рейтами, да и просто в жизни - нельзя получить все и сразу.

Пожалуйста забудьте свои старые привычки, здесь они не только не работаю, но мешают. Не стоит думать о `vim`, как о блокноте с крутыми фичами, это может сыграть с вами злую шутку. Относитесь к этому инструменту, как к чему-то новому, принципиально отличающемуся от стандартов. Тут свои концепции и подход к решению проблем.



<!-- <div style="text-align: center"> -->

<img src="/downloads/vimstory/vim.png" alt="">

<!-- </div> -->

some text:
[![vim][vim_zenburn]][vim_zenburn]
{% highlight Vim %}
set gfn=test
set nocompatible
" comments "
{% endhighlight %}


{% highlight python linenos %}
for i in range(1, 10):
    if test():
        pass
{% endhighlight %}
```python
for i in range(1, 10):
    if test():
        pass
```


###### а тут календарь и почта? ##
text

:!cal -y
:/da/,+3d
:1,5p
:read
video


ed
sed, awk

### Постараюсь не повторяться, но иногда все же придется.
help
books

vim-casts

Кто-то обязательно решит задачу, если найдет ее интересной.

[wiki]:         https://ru.wikibooks.org/wiki/Vim
[fonts]:        https://github.com/powerline/fonts
[dvorak]:       http://www.dvzine.org/zine/
[dvp]:          http://www.kaufmann.no/roland/dvorak/
[xmodmap]:      http://vim.wikia.com/wiki/Map_caps_lock_to_escape_in_XWindows
[xcape]:        https://github.com/alols/xcape
[karabiner]:    https://github.com/tekezo/Karabiner
[neovim]:       http://neovim.io/
[vim_zenburn]:  /downloads/vimstory/vim_zenburn.png
